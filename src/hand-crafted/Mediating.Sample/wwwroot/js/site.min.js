$(function(){var t=function(n){n=JSON.parse(n);n.redirect?window.location=n.redirect:(window.scrollTo(0,0),window.location.reload())},i=function(n){n=JSON.parse(n.responseJSON);alert(n.Error)},r=function(n){var t=n.responseJSON;$.each(Object.keys(t),function(n,i){var u=t[i].Errors,f=i.replace(".","_"),r;u.length!=0&&(r=$("#"+f),r.closest(".form-group").addClass("has-error"),r.next(".field-validation-valid").text(u[0].ErrorMessage))})},n=$("form.ajax-form[method=post]");n.on("submit",function(){var u=$(this).find("input[type=submit]");return u.attr("disabled",!0),$(window).unbind(),$.ajax({url:n.attr("action"),type:"post",headers:{"X-Ajax-Form":!0},data:new FormData(this),cache:!1,processData:!1,contentType:!1,dataType:"json",statusCode:{200:t,400:r,500:i},complete:function(){u.attr("disabled",!1)}}),!1})});